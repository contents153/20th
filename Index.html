<!DOCTYPE html><html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>팻머스 문화선교회 창립 20주년 감사예배</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="color-scheme" content="light" />
  <style>
    :focus-visible { outline: 2px solid #1e3a8a; outline-offset: 2px; }
    .required::after { content: ' *'; color: #ef4444; }
  </style>
</head>
<body class="min-h-screen bg-neutral-50 text-neutral-800">
  <header class="relative isolate overflow-hidden">
    <div class="absolute inset-0 -z-10 bg-gradient-to-br from-gray-800 via-blue-800 to-gray-600 opacity-95"></div>
    <div class="mx-auto max-w-4xl px-6 py-14 sm:py-20 text-center text-white">
      <h1 class="mt-2 text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight">
        팻머스 문화선교회 창립 20주년 감사예배
      </h1>
      <p class="mt-6 text-lg leading-relaxed max-w-2xl mx-auto whitespace-pre-line">
        하나님의 은혜로 팻머스 문화선교회가 창립 20주년을 맞이하게 되었습니다.
그 여정 속에서 함께 걸어주신 귀한 분들께 감사의 마음을 전하고자
작은 자리를 마련했습니다.지난 시간을 돌아보며 감사의 이야기를 나누고, 다가올 새로운 길을 함께 그려가는 따뜻한 시간이 되기를 소망합니다.

귀한 걸음을 하셔서 자리를 빛내 주시길 부탁드립니다. </p> </div>

  </header>  <main class="mx-auto max-w-3xl px-6 pb-20 -mt-12 relative z-10">
    <div class="rounded-3xl bg-white shadow-xl p-8 sm:p-10 text-xl">
      <div class="grid gap-6 sm:grid-cols-2 text-center">
        <div class="rounded-2xl bg-blue-50 border border-blue-200 p-6">
          <div class="text-2xl text-blue-800 font-semibold">일시</div>
          <div class="mt-2 text-2xl font-bold text-blue-900">2025. 10. 27(월) 18:30</div>
        </div>
        <div class="rounded-2xl bg-blue-50 border border-blue-200 p-6">
          <div class="text-2xl text-blue-800 font-semibold">장소</div>
          <div class="mt-2 text-2xl font-bold text-blue-900">서울 강남구 언주로65길 6, 청운교회 비전센터 10층</div>
          <a href="https://naver.me/5dAjjl9Z" target="_blank" rel="noopener" class="mt-2 inline-block text-xl text-blue-700 underline underline-offset-2">오시는 길 보기</a>
        </div>
      </div>
      <p class="mt-8 text-xl text-neutral-700 text-center">원활한 준비를 위해 <span class="font-bold text-blue-800">2025. 10. 13(월)</span>까지 참석 여부를 회신해 주세요.</p>
      <p class="mt-3 text-xl font-bold text-blue-900 text-center">식사는 뷔페식입니다.</p>
      <div class="mt-6 text-center">
        <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=%ED%8C%9D%EB%A8%B8%EC%8A%A4+20%EC%A3%BC%EB%85%84+%EA%B0%90%EC%82%AC%EC%98%88%EB%B0%B0&dates=20251027T093000Z/20251027T120000Z&details=%EC%84%9C%EC%9A%B8+%EA%B0%95%EB%82%A8%EA%B5%AC+%EC%96%B8%EC%A3%BC%EB%A1%9C65%EA%B8%B8+6,+%EC%B2%AD%EC%9A%B4%EA%B5%90%ED%9A%8C+%EB%B9%84%EC%A0%84%EC%84%BC%ED%84%B0+10%EC%B8%B5&location=%EC%B2%AD%EC%9A%B4%EA%B5%90%ED%9A%8C+%EB%B9%84%EC%A0%84%EC%84%BC%ED%84%B0+10%EC%B8%B5" target="_blank" class="inline-block rounded-lg bg-blue-800 px-6 py-3 text-xl text-white shadow hover:bg-blue-900">캘린더에 추가</a>
      </div>
    </div><section id="rsvp" class="mt-14">
  <div class="rounded-3xl border border-blue-200 bg-white p-8 sm:p-10 shadow-sm text-xl">
    <h2 class="text-3xl font-bold text-blue-900">참석 회신 (RSVP)</h2>
    <form id="rsvpForm" class="mt-8 grid gap-6" novalidate>
      <div>
        <label for="name" class="required block text-xl font-semibold text-blue-900">성함</label>
        <input id="name" name="name" type="text" required class="mt-3 w-full rounded-xl border px-5 py-4 border-blue-300 focus:border-blue-600 text-xl" />
      </div>
      <div>
        <label for="phone" class="required block text-xl font-semibold text-blue-900">연락처</label>
        <input id="phone" name="phone" type="tel" required class="mt-3 w-full rounded-xl border px-5 py-4 border-blue-300 focus:border-blue-600 text-xl" />
      </div>

      <fieldset>
        <legend class="required block text-xl font-semibold text-blue-900">참석 여부</legend>
        <div class="mt-3 flex gap-6 text-xl">
          <label><input type="radio" name="attendance" value="참석" required /> 참석</label>
          <label><input type="radio" name="attendance" value="불참" /> 불참</label>
        </div>
      </fieldset>

      <div id="companionsSection" class="hidden border-t pt-6">
        <h3 class="text-2xl font-bold text-blue-900">동행인</h3>
        <label class="block mt-3">동행 인원(본인 제외)
          <select id="companions" name="companions" class="mt-2 w-full rounded-xl border px-5 py-4 border-blue-300 focus:border-blue-600 text-xl">
            <option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option>
          </select>
        </label>
        <label class="block mt-3">배우자 동행
          <select id="spouse" name="spouse" class="mt-2 w-full rounded-xl border px-5 py-4 border-blue-300 focus:border-blue-600 text-xl">
            <option value="아니오">아니오</option><option value="예">예</option>
          </select>
        </label>
        <label class="block mt-3">자녀 인원
          <select id="children" name="children" class="mt-2 w-full rounded-xl border px-5 py-4 border-blue-300 focus:border-blue-600 text-xl">
            <option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option>
          </select>
        </label>
      </div>

      <fieldset class="border-t pt-6">
        <legend class="required block text-xl font-semibold text-blue-900">차량 이용</legend>
        <div class="mt-4 flex gap-6 text-xl">
          <label><input type="radio" name="carUse" value="아니오" required /> 아니오</label>
          <label><input type="radio" name="carUse" value="예" required /> 예</label>
        </div>
        <div id="carSection" class="mt-4 hidden">
          <label for="carPlate" class="required block text-xl font-semibold text-blue-900">차량 번호</label>
          <input id="carPlate" name="carPlate" type="text" class="mt-3 w-full rounded-xl border px-5 py-4 border-blue-300 focus:border-blue-600 text-xl" />
        </div>
      </fieldset>

      <div class="border-t pt-6">
        <label for="notes" class="block text-xl font-semibold text-blue-900">전하고 싶은 말씀</label>
        <textarea id="notes" name="notes" rows="4" class="mt-3 w-full rounded-xl border px-5 py-4 border-blue-300 focus:border-blue-600 text-xl"></textarea>
      </div>

      <div class="border-t pt-6 text-xl">
        <label><input id="agree" name="agree" type="checkbox" required /> 개인정보 수집·이용에 동의합니다.</label>
      </div>

      <div class="pt-3">
        <button type="submit" class="rounded-xl bg-blue-800 px-8 py-4 text-white text-xl shadow hover:bg-blue-900">RSVP 저장하기</button>
      </div>
    </form>

    <!-- ============= Apps Script 연동 =============

아래 스크립트에서 ENDPOINT_URL 에 웹앱 주소를 넣으면, 폼 데이터가 Apps Script로 전송됩니다. (이 블록은 설명용 주석이며, 별도 숨은 폼은 사용하지 않습니다.) ================================================ -->

<div id="alert" class="mt-8 hidden rounded-xl border p-5 text-xl"></div>
      </div>
      <p class="mt-8 text-lg text-neutral-700 text-center">문의: 010-9163-5897(최일모 본부장), 010-6543-9629(최선 본부장)</p>
    </section>
  </main>  <footer class="border-t bg-blue-900 py-10 text-center text-white text-lg">
    <div class="mx-auto max-w-4xl px-6">© 2025 팻머스 문화선교회</div>
  </footer>  <script>
    const form = document.getElementById('rsvpForm');
    const ENDPOINT_URL = 'https://script.google.com/macros/s/AKfycbzImyZLOuKgvYr9WwGVX1nodoXm4E_iSl-SUmLy0rENuSRo6e9EFVGTh4cd3X0hBe1vPA/exec';
    const alertBox = document.getElementById('alert');

    const attendanceRadios = form.querySelectorAll('input[name="attendance"]');
    const companionsSection = document.getElementById('companionsSection');
    const carUseRadios = form.querySelectorAll('input[name="carUse"]');
    const carSection = document.getElementById('carSection');

    const carPlateInput = document.getElementById('carPlate');

    // 폼 토글
    attendanceRadios.forEach(r => {
      r.addEventListener('change', () => {
        if (r.value === '참석' && r.checked) {
          companionsSection.classList.remove('hidden');
        } else if (r.value === '불참' && r.checked) {
          companionsSection.classList.add('hidden');
        }
      });
    });

    carUseRadios.forEach(r => {
      r.addEventListener('change', () => {
        if (r.value === '예' && r.checked) {
          carSection.classList.remove('hidden');
        } else {
          carSection.classList.add('hidden');
          carPlateInput.value = '';
        }
      });
    });

    function setError(el, on){
      if (!el) return;
      if (on) el.classList.add('border-red-400'); else el.classList.remove('border-red-400');
    }

    form.addEventListener('submit', e => {
      e.preventDefault();
      let ok = true;
      const name = document.getElementById('name');
      const phone = document.getElementById('phone');
      const attendance = form.querySelector('input[name="attendance"]:checked');
      const carUse = form.querySelector('input[name="carUse"]:checked');
      const notes = document.getElementById('notes');

      setError(name, !name.value.trim()); if (!name.value.trim()) ok = false;
      setError(phone, !phone.value.trim()); if (!phone.value.trim()) ok = false;
      if (!attendance) ok = false;
      if (!carUse) ok = false;
      if (carUse && carUse.value === '예') {
        if (carPlateInput.value.trim().length < 3) { setError(carPlateInput, true); ok = false; }
        else setError(carPlateInput, false);
      } else {
        setError(carPlateInput, false);
      }
      const agree = document.getElementById('agree');
      if (!agree.checked) ok = false;

      if (!ok) {
        alertBox.classList.remove('hidden');
        alertBox.textContent = '필수 항목을 확인해 주세요.';
        return;
      }

      // ===== Apps Script로 전송 =====
      const payload = {
        name: name.value.trim(),
        phone: phone.value.trim(),
        attendance: attendance ? attendance.value : '',
        companions: document.getElementById('companions').value,
        spouse: document.getElementById('spouse').value,
        children: document.getElementById('children').value,
        carUse: carUse ? carUse.value : '',
        carPlate: carPlateInput.value.trim(),
        notes: notes.value.trim(),
        timestamp: new Date().toISOString()
      };

      fetch(ENDPOINT_URL, {
        method: 'POST',
        mode: 'no-cors', // Apps Script 웹앱 기본 설정에서는 no-cors로도 전송됨
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      })
      .catch(() => { /* 실패해도 UX는 동일 처리 */ })
      .finally(() => {
        alertBox.classList.remove('hidden');
        alertBox.textContent = 'RSVP가 접수되었습니다. 감사합니다!';
        form.reset();
        companionsSection.classList.add('hidden');
        carSection.classList.add('hidden');
      });
    });
  </script></body>
</html>
